diff --git a/cuda_bindings/build_hooks.py b/cuda_bindings/build_hooks.py
index e83485fc4..3d3849ad6 100644
--- a/cuda_bindings/build_hooks.py
+++ b/cuda_bindings/build_hooks.py
@@ -415,7 +415,7 @@ def _build_cuda_bindings(strip=False):
     _extensions = cythonize(
         extensions,
         nthreads=nthreads,
-        build_dir="build/cython",
+        build_dir="." if compile_for_coverage else "build/cython",
         compiler_directives=cython_directives,
         **extra_cythonize_kwargs,
     )
diff --git a/cuda_bindings/setup.py b/cuda_bindings/setup.py
index adbf843fd..09779ead2 100644
--- a/cuda_bindings/setup.py
+++ b/cuda_bindings/setup.py
@@ -9,6 +9,7 @@ from warnings import warn
 import build_hooks
 from setuptools import setup
 from setuptools.command.build_ext import build_ext as _build_ext
+from setuptools.command.build_py import build_py as _build_py
 
 if os.environ.get("PARALLEL_LEVEL") is not None:
     warn(
@@ -20,6 +21,8 @@ if os.environ.get("PARALLEL_LEVEL") is not None:
 else:
     nthreads = int(os.environ.get("CUDA_PYTHON_PARALLEL_LEVEL", "0") or "0")
 
+coverage_mode = os.environ.get("CUDA_PYTHON_COVERAGE", "0") != "0"
+
 
 def _is_clang(compiler):
     @functools.lru_cache
@@ -46,10 +49,19 @@ class build_ext(_build_ext):
         super().build_extensions()
 
 
+class build_py(_build_py):
+    def finalize_options(self):
+        super().finalize_options()
+        if coverage_mode:
+            self.package_data.setdefault("", [])
+            self.package_data[""] += ["*.pyx", "*.cpp"]
+
+
 setup(
     ext_modules=build_hooks._extensions,
     cmdclass={
         "build_ext": build_ext,
+        "build_py": build_py,
     },
     zip_safe=False,
 )
diff --git a/cuda_core/build_hooks.py b/cuda_core/build_hooks.py
index 5d615ad00..010133219 100644
--- a/cuda_core/build_hooks.py
+++ b/cuda_core/build_hooks.py
@@ -163,7 +163,7 @@ def _build_cuda_core():
         ext_modules,
         verbose=True,
         language_level=3,
-        build_dir="build/cython",
+        build_dir="." if COMPILE_FOR_COVERAGE else "build/cython",
         nthreads=nthreads,
         compiler_directives=compiler_directives,
         compile_time_env=compile_time_env,
diff --git a/cuda_core/setup.py b/cuda_core/setup.py
index 4a501edc1..a909d0964 100644
--- a/cuda_core/setup.py
+++ b/cuda_core/setup.py
@@ -7,8 +7,10 @@ import os
 import build_hooks  # our build backend
 from setuptools import setup
 from setuptools.command.build_ext import build_ext as _build_ext
+from setuptools.command.build_py import build_py as _build_py
 
 nthreads = int(os.environ.get("CUDA_PYTHON_PARALLEL_LEVEL", os.cpu_count() // 2))
+coverage_mode = os.environ.get("CUDA_PYTHON_COVERAGE", "0") != "0"
 
 
 class build_ext(_build_ext):
@@ -17,10 +19,19 @@ class build_ext(_build_ext):
         super().build_extensions()
 
 
+class build_py(_build_py):
+    def finalize_options(self):
+        super().finalize_options()
+        if coverage_mode:
+            self.package_data.setdefault("", [])
+            self.package_data[""] += ["*.pxi", "*.pyx", "*.cpp"]
+
+
 setup(
     ext_modules=build_hooks._extensions,
     cmdclass={
         "build_ext": build_ext,
+        "build_py": build_py,
     },
     zip_safe=False,
 )
